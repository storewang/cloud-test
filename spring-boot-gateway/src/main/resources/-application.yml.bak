spring:
  # 配置 Jpa
  jpa:
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL5InnoDBDialect
    open-in-view: true
    show-sql: true
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: tptest
    password: abc123
    url: jdbc:mysql://localhost:3608/jeecg-boot-os?characterEncoding=UTF-8&useUnicode=true&useSSL=false
  application:
    name: spring-boot-gateway
  cloud:
    nacos:
      discovery:
        # 指定nacos server地址
        server-addr: 192.168.20.13:8848
        ip: 192.168.20.13
    gateway:
      #discovery:
      #  locator:
           # 让gateway通过服务发现组件找到其他微服务
        #  enabled: true
      routes:
          # 唯一标识
        - id: content_time_between_route
          uri: lb://spring-boot-content
          predicates:
            - Path=/content/**
            - TimeBetween=下午2:50,下午11:30
          filters:
            - AddRequestHeader=X-Request-Foo, Bar
            - PreLog=a,b
            # 转发时把/content去掉  ==>(lb://spring-boot-content/**)
            - RewritePath=/content/(?<segment>.*), /$\{segment}
          # 唯一标识
        - id: user_time_between_route
          uri: lb://spring-boot-user
          predicates:
            - Path=/user/**
            - TimeBetween=14:50,21:30
          filters:
            - AddRequestHeader=X-Request-Foo, Bar
            - PreLog=a,b
            # 转发时把/user去掉  ==>(lb://spring-boot-user/**)
            - RewritePath=/user/(?<segment>.*), /$\{segment}
server:
  port: 8040

management:
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      exposure:
        include:
        - health
        - info
        - gateway
        - metrics
info:
  app-name: spring-boot-gateway
  author: 石头






